---
import BaseLayout from '../layouts/BaseLayout.astro'
import Typing from '../components/typing.astro'
---

<BaseLayout>
	<button id='chat-button'>
		<span class='chat-text'>Chat</span>
	</button>
	<div id='notification' popover='manual' class='notification'>
		We've connected you with a dedicated team member who's ready to help with
		your order. Feel free to reach out with any questionsâ€”we're here for you.
	</div>
</BaseLayout>

<style>
	button {
		border: none;
		padding: 0.5rem 0.75rem;
		background-color: #363534;
		color: #fff;
		display: grid;
		place-content: center;
		position: fixed;
		bottom: 20px;
		right: 20px;
		anchor-name: --button;
		overflow: visible;
		text-align: center;
		text-transform: uppercase;
		font-family: sans-serif;
		text-box-trim: trim-both;
		font-size: 1rem;
	}

	button > span {
		grid-column: 1;
		grid-row: 1;
		font-size: 1rem;
	}

	.notification {
		position: absolute;
		position-anchor: --button;
		bottom: anchor(bottom);
		right: calc(anchor(left) - 10px);
		max-width: 300px;
		padding: 1rem;
		background-color: #fff;
		border: 1px solid #e0e0e0;
		border-radius: 8px;
		box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
		font-family: sans-serif;
		font-size: 0.9rem;
		line-height: 1.5;
		color: #363534;
		opacity: 1;
		transform: translateX(0);
		transition:
			opacity 0.4s ease,
			transform 0.4s ease,
			display 0.4s ease allow-discrete;
	}

	@starting-style {
		.notification:popover-open {
			opacity: 0;
			transform: translateX(20px);
		}
	}
</style>

<script>
	const notification = document.getElementById('notification')

	setTimeout(() => {
		notification?.showPopover()
	}, 3000)
</script>
